<!doctype html><html lang="ja"><head><meta charset="UTF-8" /><meta name="viewport" content="width = device-width, initial-scale = 1, user-scalable = yes" /><link rel="stylesheet" type="text/css" href="css/style.css" /><title>無門関 - 重畳関数について with Common Lisp part1</title></head><body><header id="main-header"><h1><a href="./index.html">無門関</a></h1></header><main><header id="article-header"><div id="date">2018-12-06</div><h2 id="title">重畳関数について with Common Lisp part1</h2></header><div id="article-main"><p>この記事は第8回関西Lispユーザ会で話す予定の内容をまとめているものです。 </p><p>関数型言語や関数型プログラミングと言うキーワードと共に重畳(ちょうじょう)関数, reduceやfoldと呼ばれるものが話題に登ることにあります。 </p><p>このシリーズでは、Common Lispを使って重畳関数を実装し、またリスト意外のデータ構造に対しても重畳関数を一般化することで、重畳関数とは何かについて考えて行こうと思います。 ここでは、重畳関数という言葉はリストに対するものに限らないとして使うものとします。 </p><p>ただ、私、職業プログラマではありますが、計算機科学の専門家でも数学の専門家でもないので、間違っているところがあるかもしれません。 なにかありましたら、<a href="https://twitter.com/myao_s_moking/">@myao_s_moking</a>まで、ご連絡頂けると幸いです。優しく教えてね。 </p><p>今回は、このシリーズのアウトラインと書くに至った動機と、先にまとめを書きます。 </p><h3>TL;DR</h3><p>そっけないことになってしまいますが、先にこのシリーズの内容を箇条書きにしておきます、 </p><ul><li>リストの重畳関数は末尾あるいは先頭から再帰的に関数を適用していくことで、新しい値を得る関数である。</li><li>もっと一般に重畳関数は、データ構造を再帰的に移動しながら値を計算していく関数と言えそうである。(木構造用の重畳関数など。)</li><li>重畳関数はデータをバラバラにしてから、コンストラクタと同じ引数を持つ関数を用いて再度組み上げる操作のことである。</li><li>空リストは一意に特定できるため、リストの重畳関数において、initial-valueという値の形で与えられる引数は、むしろ定数関数と考え引数に与える関数と一緒にして考えるほうが見通しが良い。</li><li>再帰的でない構造の重畳関数はただの関数</li><li>この話は圏論においてF始代数と呼ばれるものと関係しており、このF始代数がデータ構造、catamorphismと呼ばれる射が重畳関数となっている。</li></ul><h3>動機</h3><p>最近、と言っても10月末前後のから2,3週間程ですが、<a href="https://youtu.be/Af8Vf_QUmXA">圏論についての動画</a>を見ていました。 リンクしたものを含めて、いくつか見ていたので、またこのシリーズの最後にでも紹介したいと思います。 </p><p>その動画を見て、圏論について勉強していく中で、実際に手を動かしていくことで、 今までよく分かっていなかった圏論のことが少しだけ分かるようになって来た気がして充実した時間を過ごしていました。 </p><p>深く理解できている訳では無いと思いますが、米田の補題や極限、随伴、普遍性というキーワードについて、 それらが何を意味しているのかということについて、少なくとも2ヶ月前の自分からすると格段に理解が進んだと思っています。 </p><p>そんな中、F始代数とcatamorphismという概念を知り、これがプログラミングで言うreduceやfoldと密接な関係を持つもの(というよりもそのものですが)と言うことが分かり感動をしたので、 発表して、書き残しておこうと思いました。 </p><p>再帰関数は難しい、どう書けばいいのかというような話を時たま耳にする中で、reduceという例を具体的に構成する方法を与える、数学的対象があるということは、なかなかおもしろいと思います。 </p><p>圏論と言えばモナド、型、関数型言語というように言われる場面もあるかと思いますが、型やモナドがどうこうという話ではないところでの圏論的知識のある種プログラミング応用というものは面白いと思います。 </p><h3>Common Lisp の reduce</h3><p>今回の終わりに、Common Lispでの重畳関数について紹介しておきます。Common Lispでは<a href="http://clhs.lisp.se/Body/f_reduce.htm">reduce</a>という名前です。 簡単な例を載せておきます。 </p><pre><code>CL-USER&gt; (reduce #'+ (list 0 1 2 3 4))  
10  
CL-USER&gt; (reduce #'cons (list 0 1 2 3 4) :from-end t :initial-value nil)  
(0 1 2 3 4)  
CL-USER&gt; (reduce (lambda (r f)  (cons f r)) (list 0 1 2 3 4) :initial-value nil)  
(4 3 2 1 0) </code></pre><p>リストの重畳関数について、再実装したいと思います。 </p></div><footer id="article-footer">UP: <a href=".html"></a> PREV: <a href=".html"></a> NEXT: <a href="fold-with-lisp-2.html">fold-with-lisp-2</a></footer></main><footer id="main-footer"><div id="icons"><a href="https://twitter.com/myao_s_moking"><img src="img/twit.png" class="icon-img" /></a><a href="https://github.com/myaosato"><img src="img/github.png" class="icon-img" /></a></div><div id="copyright">&copy;2010 Satoaki Miyao</div></footer></body></html>