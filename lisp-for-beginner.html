<!doctype html><html lang="ja"><head><meta charset="UTF-8" /><meta name="viewport" content="width = device-width, initial-scale = 1, user-scalable = yes" /><link rel="stylesheet" type="text/css" href="css/style.css" /><title>無門関 - プログラム初心者のためのLISP</title></head><body><header id="main-header"><h1><a href="./index.html">無門関</a></h1></header><main><header id="article-header"><div id="date">2018-12-04</div><h2 id="title">プログラム初心者のためのLISP</h2></header><div id="article-main"><p><a href="https://qiita.com/advent-calendar/2018/lisp">lisp Advent Calendar 2018</a>の15日目です。 </p><p>最近、LISPがプログラミング初心者向けではないかという気持ちがふつふつと湧いてきたので、そのことについて書いていきたいと思います。 こういうところが、僕がLISPを気に入った理由の一つかもしれません。 特定の方言について書いているわけではないのでLISPとしておきます。ただし、私の頭にはCommon Lispで考えている部分が少なからずあります。 </p><p>まあ、ポエムです。コードとかは出てきません。 </p><h3>データ構造について学べる</h3><p>LISPの基本となるドット対とそれを用いたリストは単純ですが重要なデータ構造です。LISPに触れ始めると、このドット対やリストについての説明が最初の方に見かけることが多いかと思います。 </p><p>プログラミングを進めていく上で、データ構造を知ることは重要なことだと思いますので、そう言ったことに自然に触れられる点はとても良いと思います。 </p><p>実際に、私は、職業プログラマになる際にJavaの勉強をしていて、LinkedListというクラスが出てきた時に、あー、consだなと思ったりしました。 </p><p>また、何故pushが先頭に要素を付け足すような動作になるのか、先頭に要素を付け足すプログラムをpushを使わずに書いたり、 逆に末尾に要素を付け足す場合にどうすればよいか、リストから発展してドット対を使った木構造を書いてみたり、 と言うような練習問題を解いていく中で、データ構造の基本的なところについて学ぶことが出来て、これは、LISP以外の言語でプログラミングする際にも役立つことだと思います。 </p><p>もちろんvector(array)の様な他の配列構造もあります。その基本的な部分が、基本的なデータ構造の上に立脚しているので、データ構造というものを意識するようになると思います。 </p><h3>抽象的な方もすごい</h3><p>具体的なデータ構造とアルゴリズムと共に、プログラミングにおいて重要であるのは抽象化であると思います。 まあ、そんなふうに偉そうに書いておいて、私などは日々うまく書けないなぁと悩んでいるのですが。 </p><p>私のことはさておき、抽象化の一例は、関数定義でしょう。雑に言うと、処理に適切な名前をつけようということです。 </p><p>「駅の改札を出て、左に向かい、そのまま吹き抜けを右に見つつの通路を進んで、左側に現れるエスカレータを降りて、右に曲がる。」と書くより、「駅を出て喫茶店に向かう」と書いたほうが、何をしているかが分かります。 </p><p>LISPは時たま関数型言語の仲間と捉えられることがあるように、そのプログラムは関数呼び出し(とそのようなもの)の連なりからなります。 他の言語でもそうですが、LISPでも関数は非常に重要なものです。 </p><p>括弧書きの中の とそのようなもの の詳細については、ここでは書きません。気になった方は、特殊形式やマクロで検索してもらえるとよいかと思います。以下ではすべて関数呼び出しと読んでおきます。 </p><p>また、関数が第一級オブジェクトであり、関数の返り値として返したり、別の関数に引数として渡すことが出来ます。 </p><p>例えば、並び替えのための関数を書く時に、比較関数を引数にとる形にして置くと同じアルゴリズムを、(適切な比較関数が違う)色々なデータに対して適用することが簡単に出来ます。 </p><p>関数を返す場合の簡単な例は、呼び出すたびに一つ次の整数を返すようなカウンターなんかを簡単に作ることが出来ます。他にも色々と使い道があります。 分岐を直接書く代わりに処理を返すような関数を作ってから、それを使うことにすると抽象化されて、汎用的になった関数を得ることが出来ます。 </p><p>この様なものを高階関数と呼ぶことがあり、やはり他のプログラミング言語で書くとしても非常に役に立ちます。 </p><h3>さらなる抽象化 マクロ</h3><p>LISPは、S式という特徴的な構文を持っています。上でLISPプログラムは関数呼び出しの連なりと書きましたが、LISPプログラムはリストの連なりであり、そのリストが関数呼び出しに対応しています。 </p><p>リストの先頭が関数名で、残りの要素が引数です。 特殊形式と呼ばれる様な関数と少し違うものであっても、その呼び出し方は、先頭が名前で、残りが引数となります。(ただし引数の処理のされ方が関数と違う場合があります。) </p><p>このようにLISPでは、プログラムもそのプログラム中で扱うデータ構造の一つであるリスト(しかも、基本的なものの一つですよね)と全く同じように扱えます。 別の言い方をすれば、LISPプログラムを書くということは、あるリストを作成するということと同じです。 </p><p>LISPではマクロというものがあり、コンパイル時に実行時と同じようにLISPの機能をフルに使って、LISPプログラムとしてのリストを作ることが出来る機能があります。 </p><p>単純に言えば、先頭が名前であるリストの入れ子構造や連なりがプログラムであるというルールを除いて、新しい構文をLISPにLISPプログラマが追加することが出来ます。 </p><p>例えば、条件分岐の様な呼び出しの引数部分に場合によっては評価されたくないものは関数では書くことが出来ませんがマクロを使うと書くことが出来ます。 </p><p>マクロはこのように強力なので、うまく使うのは難しい部分がありますが、他の言語ではなかなか出来ない自然な書き方をすることが出来るようになる場合があります。 私は、使いこなせてはいませんが、他の言語で書いている時に、今書いているプログラム用の言語で書きたいと思うようなことが多く、そんな時にLISPに思いを馳せたりしてます。 </p><h3>まとめ</h3><p>ドット対によるリストでLISPプログラムが記述できるという特徴により、LISPは書き手に、基本的なデータ構造を意識させる。 また、初学者向けのそれらを学ぶための練習問題もよく目につき、 それ故、他のデータ構造についても意識的になり、プログラミング初学者にとって、データ構造とアルゴリズムを学ぶきっかけとなり良い。 </p><p>その比較的具体的な方向でプログラミングのために重要な概念を獲得できる一方で、高度な抽象化を推し進めていくことの出来る言語機能と構文を持っている。 そのため、プログラミングにおいて、もう一方の重要な要素である抽象化という力や考え方を身に着けていくことを可能にするきっかけも与える。 </p><p>少なくとも、僕はLISPに色々なことを教わったと思います。 </p></div><footer id="article-footer">UP: <a href=".html"></a> PREV: <a href=".html"></a> NEXT: <a href=".html"></a></footer></main><footer id="main-footer"><div id="icnos"><a href="https://twitter.com/myao_s_moking"><img src="img/twit.png" class="icon-img" /></a><a href="https://github.com/myaosato"><img src="img/github.png" class="icon-img" /></a></div><div id="copyright">&copy;2010 Satoaki Miyao</div></footer></body></html>